{% load static %}
<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
		<title>南昌市智慧工地一体化监测监控信息平台</title>
		<link rel="stylesheet" type="text/css" href="/static/datacockpit/css/swiper.min.css" />
		<link rel="stylesheet" type="text/css" href="/static/datacockpit/css/reset.css" />
		<link rel="stylesheet" type="text/css" href="/static/datacockpit/css/epidcss.css" />
        <link rel="stylesheet" href="/static/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="/static/layui/css/layui.css">

        <!-- <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=oRd3s4xjRXGIxWp3jlgjWDP7DT1i75jl"></script> -->
        <script src="//api.map.baidu.com/api?v=1.0&type=webgl&ak=oRd3s4xjRXGIxWp3jlgjWDP7DT1i75jl"></script>
        <script src="//mapv.baidu.com/build/mapv.min.js"></script>
        <script src="https://code.bdstatic.com/npm/mapvgl@1.0.0-beta.41/dist/mapvgl.min.js"></script>
        <script src="https://unpkg.com/mapvgl/dist/mapvgl.min.js"></script>
        <script src="https://unpkg.com/mapvgl/dist/mapvgl.threelayers.min.js"></script>
        <script src="/static/js/map/common.js"></script>

    </head>

    <style type="text/css">
        body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin: auto;font-family:"微软雅黑";}

        .content_epid {
            overflow: hidden;
            width: 100%;
            height: 98%;
            text-align: center;
            background: rgba(255, 255, 255, 0);
            border-radius: 5px;
            padding-top: 5px;
            margin-top: 5px;
        }

        .titleC {
            height: 30px;
            line-height: 30px;
            margin: 0 !important;
        }

        .visible {
            overflow: hidden;
            height: 85%;
        }

        .visible ul {
            margin-top: 0;
            padding-left: 0;
            text-align: left;
            list-style: none;
            -webkit-animation: 12s linear 0s normal none infinite change;
            animation: 12s linear 0s normal none infinite change;
        }

        .visible ul li {
            margin: 0;
            height: 30px;
        }

        .visible ul li span {
            display: inline-block;
            width: 25%;
            color: #fff;
            text-align: center;
            font-size: 14px;
        }

        .content p span {
            display: inline-block;
            width: 25%;
            color: #6F7CB8;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
        }
    </style>
	<body>
		<div class="content">
			<div class="header">
                <!-- <div class="fls"><h1 style="color: white">南昌市智慧工地监控平台</h1></div> -->
                <div class="fls"><img src="/static/images/nczphtlogo.png" style="padding-left: 2px; height: 90%; padding-left: 20px" />
                </div>
				<div class="swiper-container">
                    <div class="swiper-wrapper">
                        {% for dc_menu in busmenu_info %}
                            <div class="swiper-slide"><a href={% if dc_menu.FUrl == None %} "#" {% else %} "{% url dc_menu.FUrl %}"{% endif %} ><i class="{{ dc_menu.FMenuIcon }}" aria-hidden="true"></i>  {{ dc_menu.FMenuName }}</a></div>
                        {% endfor %}
                    </div>
                </div>

			</div>

			<div class="main_box">
				<div class="top">
					<div class="fl">
						<div class="fl_top">
							<div class="icon"><img src="/static/datacockpit/images/HOME_11.png" class="frs" /><img src="/static/datacockpit/images/HOME_23.png" class="fls" /></div>
							<div style="padding-left: 2%; padding-top: 1%"><span style="color: wheat"><h3><i class="fa fa-pie-chart" aria-hidden="true"></i> 防疫监控总揽:</h3></span></div>
                            <div id="epid_prj" style="width: 100%;height: 100%;"></div>
                        </div>
						<div class="fl_bot">
							<div class="icon"><img src="/static/datacockpit/images/HOME_11.png" class="frs" /><img src="/static/datacockpit/images/HOME_23.png" class="fls" /></div>
                            <div style="padding-left: 2%; padding-top: 1%"><span style="color: wheat"><h3><i class="fa fa-bar-chart" aria-hidden="true"></i> 备案复工项目情况:</h3></span></div>
                            <div class='content_epid'>
                                <p class="titleC"><span>项目名称</span><span>所属区域</span><span>实名制人数</span><span>复工人数</span></p>
                                <div class='visible'>
                                    <ul id="RunTopic">
                                        <li><span>桃花南路安置房</span><span>西湖区</span><span class="danger">10</span><span style="color: green">10</span></li>
                                        <li><span>义坊安置房</span><span>青云谱区</span><span class="danger">55</span><span>40</span></li>
                                        <li><span>上海南路安置房</span><span>青云谱区</span><span class="danger">35</span><span>20</span></li>
                                        <li><span>恒锦九龙湖二期</span><span>红谷滩区</span><span class="danger">28</span><span style="color: orange">36</span></li>
                                        <li><span>地铁丁公路站</span><span>东湖区</span><span class="danger">45</span><span>22</span></li>
                                        <li><span>地铁观州路站</span><span>西湖区</span><span class="danger">38</span><span>32</span></li>
                                        <li><span>地铁青山路站</span><span>青山湖区</span><span class="danger">32</span><span>30</span></li>
                                        <li><span>地铁墩子塘站</span><span>东湖区</span><span class="danger">41</span><span>37</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
					</div>
					<div class="mid">
                        <div style="height: 92%; width: 100%;">
                            <div id="allmap" style="bottom: 0px; width: 100%; height: 100%;"></div>
                        </div>
					</div>
					<div class="fr">
						<div class="fr_top">
							<div class="icon"><img src="/static/datacockpit/images/HOME_11.png" class="frs" /><img src="/static/datacockpit/images/HOME_23.png" class="fls" /></div>
                            <div style="padding-left: 2%; padding-top: 1%"><span style="color: wheat"><h3><i class="fa fa-plus-circle" aria-hidden="true"></i> 施工人员健康数据:</h3></span></div>
                            <div id="memberChart" style="height: 90%; width: 100%; padding-left: 10px"></div>
						</div>
						<div class="fr_bot">
                            <div class="icon"><img src="/static/datacockpit/images/HOME_11.png" class="frs" /><img src="/static/datacockpit/images/HOME_23.png" class="fls" /></div>
                            <div style="padding-left: 2%; padding-top: 1%"><span style="color: wheat"><h3><i class="fa fa-plus-circle" aria-hidden="true"></i> 防疫物资统计:</h3></span></div>
                            <div id="epid_goods_chart" style="height: 90%; width: 100%; padding-left: 10px"></div>
						</div>
					</div>

                    <div class="bottom">
                        <div class="layui-row layui-col-space15">
                            <div style="padding-left: 2%; padding-top: 1%"></div>
                            <div class="layui-col-md12">
                                <div class="item" style="overflow-y: auto;" >
                                    <div class="layui-row layui-col-space10" style="width: 100%; padding: 10px " >
                                        <div class="layui-col-md12">
                                            <span style="color: wheat;"><h3><i class="fa fa-users" aria-hidden="true"></i> 疫情人员管控:</h3></span>

                                            <div class="layui-row layui-col-space15" style="padding-top: 1%">
                                                <div class="layui-col-md12">
                                                    <div id="main_person_atten" style="width: 100%;height: 300px;"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
				</div>
			</div>


		</div>
	</body>
    <script type="text/javascript" src="/static/js/jquery-3.3.1.min.js"></script>

	<script type="text/javascript" src="/static/datacockpit/js/swiper.min.js"></script>
	<script type="text/javascript" src="/static/datacockpit/js/echarts.min.js"></script>
    <script type="text/javascript" src="/static/datacockpit/js/dark.js"></script>
    <script type="text/javascript" src="/static/layui/layui.js"></script>
    <script type="text/javascript" src="/static/video-js-7/video.min.js"></script>

	<script>
        layui.config({
            base: '/static/layui/ext/',   // 模块所在目录
        }).extend({
            soulTable: 'soulTable'  // 模块别名
        });
        var iwindow = 1;

        layui.use(['element','layer','laydate','carousel', 'form', 'table', 'soulTable'], function(){
            var
                $ = layui.jquery
                ,element = layui.element //Tab的切换功能，切换事件监听等，需要依赖element模块
                ,layer = layui.layer
                ,laydate = layui.laydate
                ,carousel = layui.carousel
                , form = layui.form
                , table = layui.table
                , soulTable = layui.soulTable;

            var swiper = new Swiper('.swiper-container', {
                slidesPerView: 6,
                spaceBetween: 10,
            });


            var epid_prj_cockpit = function () {
                var myChart_org = echarts.init(document.getElementById('epid_prj'));
                var option = {
                    title: {
                        zlevel: 0,
                        text: [
                            '{value|15%}',
                            '{name|项目报备率}',
                        ].join('\n'),
                        top: 'center',
                        left: '49%',
                        textAlign: 'center',
                        textStyle: {
                            rich: {
                                value: {
                                    color: '#A7FFFD',
                                    fontSize: 40,
                                    fontWeight: 'bold',
                                    lineHeight: 40,
                                },
                                name: {
                                    color: '#A7FFFD',
                                    fontSize: 19,
                                    lineHeight: 40
                                },
                            },
                        },
                    },


                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                    },
                    series: [{
                        name: '',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        labelLine: {
                            length: 20,
                            length2: 40,
                            color: {
                                color: '#999999'
                            }
                        },
                        label: {
                            formatter: "{c}"
                        },
                        itemStyle: {
                            borderColor: '#000',
                            borderWidth: 1
                        },
                        markPoint: {
                            symbol: 'images/page_61.png'
                        },
                        data: [{'value': 19, 'name': '监管项目', 'label': {'fontSize': 30, 'color': '#A7FFFD'}},
                              {'value': 3, 'name': '报备项目', 'label': {'fontSize': 30, 'color': '#A7FFFD'}},
                              {'value': 8, 'name': '复工项目', 'label': {'fontSize': 30, 'color': '#A7FFFD'}}
                        ]
                    }]
                };
                myChart_org.setOption(option);
            };
            epid_prj_cockpit();

            // 区域人员数据
            var epid_area_cockpit = function () {
                var dom = document.getElementById("memberChart");
                var myChart = echarts.init(dom);
                option = {
                    backgroundColor: 'transparent',
                    tooltip: {
                        axisPointer: {
                            type: 'shadow'
                        }
                    },
                    grid: {
                        top: '15%',
                        right: '3%',
                        left: '5%',
                        bottom: '12%'
                    },
                    xAxis: [{
                        type: 'category',
                        data: ['东湖区', '西湖区', '青云谱区', '青山湖区', '新建区'],
                        axisLine: {
                            lineStyle: {
                                color: 'rgba(255,255,255,0.12)'
                            }
                        },
                        axisLabel: {
                            margin: 5,
                            color: '#e2e9ff',
                            textStyle: {
                                fontSize: 14
                            },
                        },
                    }],
                    yAxis: [{
                        axisLabel: {
                            formatter: '{value}',
                            color: '#e2e9ff',
                        },
                        axisLine: {
                            show: false
                        },
                        splitLine: {
                            lineStyle: {
                                color: 'rgba(255,255,255,0.12)'
                            }
                        }
                    }],
                    series: [{
                        type: 'bar',
                        data: [30, 45, 77, 29, 56],
                        barWidth: '20%',
                        itemStyle: {
                            normal: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: 'rgba(232,230,189,1)' // 0% 处的颜色
                                }, {
                                    offset: 1,
                                    color: 'rgba(68,133,193,1)' // 100% 处的颜色
                                }], false),
                                barBorderRadius: [30, 30, 0, 0],
                                shadowColor: 'rgba(0,160,221,1)',
                                shadowBlur: 4,
                            }
                        }
                    }]
                };
                myChart.setOption(option);

            };
            epid_area_cockpit();

            // 防疫物资统计
            var edpic_goods_chart = function () {
                var myChart_org = echarts.init(document.getElementById('epid_goods_chart'));
                var option = {
                    title: {
                        zlevel: 0,
                        text: [
                            '{name|防疫物资}',
                        ].join('\n'),
                        top: 'center',
                        left: '49%',
                        textAlign: 'center',
                        textStyle: {
                            rich: {
                                value: {
                                    color: '#A7FFFD',
                                    fontSize: 40,
                                    fontWeight: 'bold',
                                    lineHeight: 40,
                                },
                                name: {
                                    color: '#A7FFFD',
                                    fontSize: 19,
                                    lineHeight: 40
                                },
                            },
                        },
                    },


                    tooltip: {
                        trigger: 'item',
                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                    },
                    series: [{
                        name: '',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        labelLine: {
                            length: 20,
                            length2: 40,
                            normal: {
                                show: true,
                            },
                            color: {
                                color: '#999999'
                            }
                        },
                        label: {
                            normal: {
                                show: true,
                                textStyle: {
                                    fontSize: 15,
                                    color: '#A7FFFD'
                                },
                            }
                        },
                        itemStyle: {
                            borderColor: '#000',
                            borderWidth: 1
                        },
                        markPoint: {
                            symbol: 'images/page_61.png'
                        },
                        data: [{'value': 2500, 'name': '口罩'},
                            {'value': 1400, 'name': '防护服'},
                            {'value': 300, 'name': '消毒液'},
                            {'value': 280, 'name': '手套'},
                        ]
                    }]
                };
                myChart_org.setOption(option);
            }
            edpic_goods_chart()

            //项目人员平均温度
            var edpic_person_chart = function () {
                var myChart_person = echarts.init(document.getElementById('main_person_atten'));

                var timeData = [
                    '2020/03/ 1 1:00','2020/03/ 1 2:00','2020/03/ 1 3:00','2020/03/ 1 4:00','2020/03/ 1 5:00','2020/03/ 1 6:00','2020/03/ 1 7:00','2020/03/ 1 8:00','2020/03/ 1 9:00','2020/03/ 1 10:00','2020/03/ 1 11:00','2020/03/ 1 12:00','2020/03/ 1 13:00','2020/03/ 1 14:00','2020/03/ 1 15:00','2020/03/ 1 16:00','2020/03/ 1 17:00','2020/03/ 1 18:00','2020/03/ 1 19:00','2020/03/ 1 20:00','2020/03/ 1 21:00','2020/03/ 1 22:00','2020/03/ 1 23:00','2020/03/ 2 1:00','2020/03/ 2 2:00','2020/03/ 2 3:00','2020/03/ 2 4:00','2020/03/ 2 5:00','2020/03/ 2 6:00','2020/03/ 2 7:00','2020/03/ 2 8:00','2020/03/ 2 9:00','2020/03/ 2 10:00','2020/03/ 2 11:00','2020/03/ 2 12:00','2020/03/ 2 13:00','2020/03/ 2 14:00','2020/03/ 2 15:00','2020/03/ 2 16:00','2020/03/ 2 17:00','2020/03/ 2 18:00','2020/03/ 2 19:00','2020/03/ 2 20:00','2020/03/ 2 21:00','2020/03/ 2 22:00','2020/03/ 2 23:00','2020/03/ 3 1:00','2020/03/ 3 2:00','2020/03/ 3 3:00','2020/03/ 3 4:00','2020/03/ 3 5:00','2020/03/ 3 6:00','2020/03/ 3 7:00','2020/03/ 3 8:00','2020/03/ 3 9:00','2020/03/ 3 10:00','2020/03/ 3 11:00','2020/03/ 3 12:00','2020/03/ 3 13:00','2020/03/ 3 14:00','2020/03/ 3 15:00','2020/03/ 3 16:00','2020/03/ 3 17:00','2020/03/ 3 18:00','2020/03/ 3 19:00','2020/03/ 3 20:00','2020/03/ 3 21:00','2020/03/ 3 22:00','2020/03/ 3 23:00','2020/03/ 4 1:00','2020/03/ 4 2:00','2020/03/ 4 3:00','2020/03/ 4 4:00','2020/03/ 4 5:00','2020/03/ 4 6:00','2020/03/ 4 7:00','2020/03/ 4 8:00','2020/03/ 4 9:00','2020/03/ 4 10:00','2020/03/ 4 11:00','2020/03/ 4 12:00','2020/03/ 4 13:00','2020/03/ 4 14:00','2020/03/ 4 15:00','2020/03/ 4 16:00','2020/03/ 4 17:00','2020/03/ 4 18:00','2020/03/ 4 19:00','2020/03/ 4 20:00','2020/03/ 4 21:00','2020/03/ 4 22:00','2020/03/ 4 23:00','2020/03/ 5 1:00','2020/03/ 5 2:00','2020/03/ 5 3:00','2020/03/ 5 4:00','2020/03/ 5 5:00','2020/03/ 5 6:00','2020/03/ 5 7:00','2020/03/ 5 8:00','2020/03/ 5 9:00','2020/03/ 5 10:00','2020/03/ 5 11:00','2020/03/ 5 12:00','2020/03/ 5 13:00','2020/03/ 5 14:00','2020/03/ 5 15:00','2020/03/ 5 16:00','2020/03/ 5 17:00','2020/03/ 5 18:00','2020/03/ 5 19:00','2020/03/ 5 20:00','2020/03/ 5 21:00','2020/03/ 5 22:00','2020/03/ 5 23:00','2020/03/ 6 1:00','2020/03/ 6 2:00','2020/03/ 6 3:00','2020/03/ 6 4:00','2020/03/ 6 5:00','2020/03/ 6 6:00','2020/03/ 6 7:00','2020/03/ 6 8:00','2020/03/ 6 9:00','2020/03/ 6 10:00','2020/03/ 6 11:00','2020/03/ 6 12:00','2020/03/ 6 13:00','2020/03/ 6 14:00','2020/03/ 6 15:00','2020/03/ 6 16:00','2020/03/ 6 17:00','2020/03/ 6 18:00','2020/03/ 6 19:00','2020/03/ 6 20:00','2020/03/ 6 21:00','2020/03/ 6 22:00','2020/03/ 6 23:00','2020/03/ 7 1:00','2020/03/ 7 2:00','2020/03/ 7 3:00','2020/03/ 7 4:00','2020/03/ 7 5:00','2020/03/ 7 6:00','2020/03/ 7 7:00','2020/03/ 7 8:00','2020/03/ 7 9:00','2020/03/ 7 10:00','2020/03/ 7 11:00','2020/03/ 7 12:00','2020/03/ 7 13:00','2020/03/ 7 14:00','2020/03/ 7 15:00','2020/03/ 7 16:00','2020/03/ 7 17:00','2020/03/ 7 18:00','2020/03/ 7 19:00','2020/03/ 7 20:00','2020/03/ 7 21:00','2020/03/ 7 22:00','2020/03/ 7 23:00','2020/03/ 8 1:00','2020/03/ 8 2:00','2020/03/ 8 3:00','2020/03/ 8 4:00','2020/03/ 8 5:00','2020/03/ 8 6:00','2020/03/ 8 7:00','2020/03/ 8 8:00','2020/03/ 8 9:00','2020/03/ 8 10:00','2020/03/ 8 11:00','2020/03/ 8 12:00','2020/03/ 8 13:00','2020/03/ 8 14:00','2020/03/ 8 15:00','2020/03/ 8 16:00','2020/03/ 8 17:00','2020/03/ 8 18:00','2020/03/ 8 19:00','2020/03/ 8 20:00','2020/03/ 8 21:00','2020/03/ 8 22:00','2020/03/ 8 23:00','2020/03/ 9 1:00','2020/03/ 9 2:00','2020/03/ 9 3:00','2020/03/ 9 4:00','2020/03/ 9 5:00','2020/03/ 9 6:00','2020/03/ 9 7:00','2020/03/ 9 8:00','2020/03/ 9 9:00','2020/03/ 9 10:00','2020/03/ 9 11:00','2020/03/ 9 12:00','2020/03/ 9 13:00','2020/03/ 9 14:00','2020/03/ 9 15:00','2020/03/ 9 16:00','2020/03/ 9 17:00','2020/03/ 9 18:00','2020/03/ 9 19:00','2020/03/ 9 20:00','2020/03/ 9 21:00','2020/03/ 9 22:00','2020/03/ 9 23:00','2020/03/10 1:00','2020/03/10 2:00','2020/03/10 3:00','2020/03/10 4:00','2020/03/10 5:00','2020/03/10 6:00','2020/03/10 7:00','2020/03/10 8:00','2020/03/10 9:00','2020/03/10 10:00','2020/03/10 11:00','2020/03/10 12:00','2020/03/10 13:00','2020/03/10 14:00','2020/03/10 15:00','2020/03/10 16:00','2020/03/10 17:00','2020/03/10 18:00','2020/03/10 19:00','2020/03/10 20:00','2020/03/10 21:00','2020/03/10 22:00','2020/03/10 23:00','2020/03/11 1:00','2020/03/11 2:00','2020/03/11 3:00','2020/03/11 4:00','2020/03/11 5:00','2020/03/11 6:00','2020/03/11 7:00','2020/03/11 8:00','2020/03/11 9:00','2020/03/11 10:00','2020/03/11 11:00','2020/03/11 12:00','2020/03/11 13:00','2020/03/11 14:00','2020/03/11 15:00','2020/03/11 16:00','2020/03/11 17:00','2020/03/11 18:00','2020/03/11 19:00','2020/03/11 20:00','2020/03/11 21:00','2020/03/11 22:00','2020/03/11 23:00','2020/03/12 1:00','2020/03/12 2:00','2020/03/12 3:00','2020/03/12 4:00','2020/03/12 5:00','2020/03/12 6:00','2020/03/12 7:00','2020/03/12 8:00','2020/03/12 9:00','2020/03/12 10:00','2020/03/12 11:00','2020/03/12 12:00','2020/03/12 13:00','2020/03/12 14:00','2020/03/12 15:00','2020/03/12 16:00','2020/03/12 17:00','2020/03/12 18:00','2020/03/12 19:00','2020/03/12 20:00','2020/03/12 21:00','2020/03/12 22:00','2020/03/12 23:00','2020/03/13 1:00','2020/03/13 2:00','2020/03/13 3:00','2020/03/13 4:00','2020/03/13 5:00','2020/03/13 6:00','2020/03/13 7:00','2020/03/13 8:00','2020/03/13 9:00','2020/03/13 10:00','2020/03/13 11:00','2020/03/13 12:00','2020/03/13 13:00','2020/03/13 14:00','2020/03/13 15:00','2020/03/13 16:00','2020/03/13 17:00','2020/03/13 18:00','2020/03/13 19:00','2020/03/13 20:00','2020/03/13 21:00','2020/03/13 22:00','2020/03/13 23:00','2020/03/14 1:00','2020/03/14 2:00','2020/03/14 3:00','2020/03/14 4:00','2020/03/14 5:00','2020/03/14 6:00','2020/03/14 7:00','2020/03/14 8:00','2020/03/14 9:00','2020/03/14 10:00','2020/03/14 11:00','2020/03/14 12:00','2020/03/14 13:00','2020/03/14 14:00','2020/03/14 15:00','2020/03/14 16:00','2020/03/14 17:00','2020/03/14 18:00','2020/03/14 19:00','2020/03/14 20:00','2020/03/14 21:00','2020/03/14 22:00','2020/03/14 23:00','2020/03/15 1:00','2020/03/15 2:00','2020/03/15 3:00','2020/03/15 4:00','2020/03/15 5:00','2020/03/15 6:00','2020/03/15 7:00','2020/03/15 8:00','2020/03/15 9:00','2020/03/15 10:00','2020/03/15 11:00','2020/03/15 12:00','2020/03/15 13:00','2020/03/15 14:00','2020/03/15 15:00','2020/03/15 16:00','2020/03/15 17:00','2020/03/15 18:00','2020/03/15 19:00','2020/03/15 20:00','2020/03/15 21:00','2020/03/15 22:00','2020/03/15 23:00','2020/03/16 1:00','2020/03/16 2:00','2020/03/16 3:00','2020/03/16 4:00','2020/03/16 5:00','2020/03/16 6:00','2020/03/16 7:00','2020/03/16 8:00','2020/03/16 9:00','2020/03/16 10:00','2020/03/16 11:00','2020/03/16 12:00','2020/03/16 13:00','2020/03/16 14:00','2020/03/16 15:00','2020/03/16 16:00','2020/03/16 17:00','2020/03/16 18:00','2020/03/16 19:00','2020/03/16 20:00','2020/03/16 21:00','2020/03/16 22:00','2020/03/16 23:00','2020/03/17 1:00','2020/03/17 2:00','2020/03/17 3:00','2020/03/17 4:00','2020/03/17 5:00','2020/03/17 6:00','2020/03/17 7:00','2020/03/17 8:00','2020/03/17 9:00','2020/03/17 10:00','2020/03/17 11:00','2020/03/17 12:00','2020/03/17 13:00','2020/03/17 14:00','2020/03/17 15:00','2020/03/17 16:00','2020/03/17 17:00','2020/03/17 18:00','2020/03/17 19:00','2020/03/17 20:00','2020/03/17 21:00','2020/03/17 22:00','2020/03/17 23:00','2020/03/18 1:00','2020/03/18 2:00','2020/03/18 3:00','2020/03/18 4:00','2020/03/18 5:00','2020/03/18 6:00','2020/03/18 7:00','2020/03/18 8:00','2020/03/18 9:00','2020/03/18 10:00','2020/03/18 11:00','2020/03/18 12:00','2020/03/18 13:00','2020/03/18 14:00','2020/03/18 15:00','2020/03/18 16:00','2020/03/18 17:00','2020/03/18 18:00','2020/03/18 19:00','2020/03/18 20:00','2020/03/18 21:00','2020/03/18 22:00','2020/03/18 23:00','2020/03/19 1:00','2020/03/19 2:00','2020/03/19 3:00','2020/03/19 4:00','2020/03/19 5:00','2020/03/19 6:00','2020/03/19 7:00','2020/03/19 8:00','2020/03/19 9:00','2020/03/19 10:00','2020/03/19 11:00','2020/03/19 12:00','2020/03/19 13:00','2020/03/19 14:00','2020/03/19 15:00','2020/03/19 16:00','2020/03/19 17:00','2020/03/19 18:00','2020/03/19 19:00','2020/03/19 20:00','2020/03/19 21:00','2020/03/19 22:00','2020/03/19 23:00','2020/03/20 1:00','2020/03/20 2:00','2020/03/20 3:00','2020/03/20 4:00','2020/03/20 5:00','2020/03/20 6:00','2020/03/20 7:00','2020/03/20 8:00','2020/03/20 9:00','2020/03/20 10:00','2020/03/20 11:00','2020/03/20 12:00','2020/03/20 13:00','2020/03/20 14:00','2020/03/20 15:00','2020/03/20 16:00','2020/03/20 17:00','2020/03/20 18:00','2020/03/20 19:00','2020/03/20 20:00','2020/03/20 21:00','2020/03/20 22:00','2020/03/20 23:00','2020/03/21 1:00','2020/03/21 2:00','2020/03/21 3:00','2020/03/21 4:00','2020/03/21 5:00','2020/03/21 6:00','2020/03/21 7:00','2020/03/21 8:00','2020/03/21 9:00','2020/03/21 10:00','2020/03/21 11:00','2020/03/21 12:00','2020/03/21 13:00','2020/03/21 14:00','2020/03/21 15:00','2020/03/21 16:00','2020/03/21 17:00','2020/03/21 18:00','2020/03/21 19:00','2020/03/21 20:00','2020/03/21 21:00','2020/03/21 22:00','2020/03/21 23:00','2020/03/22 1:00','2020/03/22 2:00','2020/03/22 3:00','2020/03/22 4:00','2020/03/22 5:00','2020/03/22 6:00','2020/03/22 7:00','2020/03/22 8:00','2020/03/22 9:00','2020/03/22 10:00','2020/03/22 11:00','2020/03/22 12:00','2020/03/22 13:00','2020/03/22 14:00','2020/03/22 15:00','2020/03/22 16:00','2020/03/22 17:00','2020/03/22 18:00','2020/03/22 19:00','2020/03/22 20:00','2020/03/22 21:00','2020/03/22 22:00','2020/03/22 23:00']

                var option = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                animation: false
            }
        },
        textStyle:{
            color:'white',
            fontStyle: "bold"
        },
        legend: {
            x: 'left',
            y: 'top',
            color: ["#66cc00", "#d94d02"],
            data:[{name: "平均测量温度", textStyle:{color: "#66cc00"}}, {name: "累计通行人数", textStyle:{color: "#d94d02"}}],
        },
        toolbox: {
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                restore: {},
                saveAsImage: {}
            }
        },
        axisPointer: {
            link: {xAxisIndex: 'all'}
        },
        dataZoom: [
            {
                show: true,
                realtime: true,
                start: 30,
                end: 70,
                xAxisIndex: [0, 1]
            },
            {
                type: 'inside',
                realtime: true,
                start: 30,
                end: 70,
                xAxisIndex: [0, 1]
            }
        ],
        grid: [{
            left: 50,
            right: 50,
            height: '35%'
        }, {
            left: 50,
            right: 50,
            top: '55%',
            height: '35%'
        }],
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                axisLine: {onZero: true},
                data: timeData
            },
            {
                gridIndex: 1,
                type: 'category',
                boundaryGap: false,
                axisLine: {onZero: true},
                data: timeData,
                position: 'top'
            }
        ],
        yAxis: [
            {
                name: '平均测量温度',
                type: 'value',
                minInterval: 1
                //max: 40
            },
            {
                gridIndex: 1,
                name: '累计通行人数',
                type: 'value',
                minInterval: 1,
                inverse: true
            }
        ],
        series: [
            {
                name: '平均测量温度',
                type: 'line',
                itemStyle : {
                    normal : {
                        color:'#ff9900',   // 设置平均温度的颜色
                    }
                },
                symbolSize: 8,
                hoverAnimation: false,
                data: [36.1,36.0,36.4,36.5,36.7,36.5,36.7,36.0,36.1,36.6,36.6,36.9,36.6,36.5,36.3,36.5,36.5,36.0,36.7,36.8,36.2,36.9,36.9,36.8,36.9,36.6,36.2,36.3,36.9,36.3,36.3,36.3,36.2,36.6,36.5,36.0,36.2,36.5,36.4,36.0,36.8,36.6,36.8,36.2,36.4,36.2,36.5,36.5,36.4,36.2,36.5,36.2,36.6,36.8,36.7,36.8,36.1,36.5,36.1,36.8,36.3,36.8,36.7,36.4,36.8,36.4,36.8,36.0,36.9,36.6,36.6,36.0,36.4,36.1,36.0,36.6,36.5,36.5,36.9,36.6,36.9,36.7,36.0,36.0,36.4,36.4,36.0,36.7,36.9,36.7,36.5,36.7,36.0,36.1,36.3,36.4,36.6,36.6,36.0,36.3,36.9,36.5,36.4,36.7,36.0,36.6,36.5,36.0,36.2,36.7,36.9,36.8,36.4,36.4,36.3,36.0,36.0,36.6,36.3,36.6,36.1,36.4,36.6,36.5,36.1,36.7,36.5,36.1,36.3,36.9,36.9,36.4,36.4,36.2,36.0,36.1,36.4,36.6,36.2,36.4,36.5,36.0,36.1,36.6,36.9,36.7,36.3,36.0,36.0,36.2,36.4,36.5,36.4,36.5,36.6,36.3,36.9,36.5,36.1,36.5,36.3,36.4,36.6,36.0,36.5,36.0,36.9,36.7,36.6,36.8,36.4,36.0,36.6,36.2,36.5,36.3,36.7,36.9,36.6,36.2,36.2,36.7,36.3,36.3,36.8,36.4,36.6,36.0,36.3,36.1,36.0,36.7,36.4,36.4,36.7,36.6,36.1,36.0,36.6,36.1,36.2,36.9,36.7,36.9,36.9,36.5,36.1,36.6,36.7,36.0,36.4,36.8,36.7,36.0,36.2,36.1,36.6,36.8,36.0,36.3,36.3,36.9,36.0,36.3,36.3,36.5,36.2,36.2,36.1,36.2,36.5,36.6,36.3,36.9,36.0,36.5,36.3,36.2,36.8,36.8,36.2,36.5,36.8,36.7,36.5,36.5,36.7,36.1,36.6,36.6,36.7,36.0,36.6,36.1,36.9,36.3,36.9,36.0,36.2,36.0,36.0,36.3,36.1,36.7,36.6,36.2,36.2,36.4,36.6,36.8,36.9,36.0,36.3,36.9,36.8,36.1,36.6,36.9,36.9,36.8,36.1,36.0,36.8,36.6,36.9,36.6,36.4,36.9,36.7,36.2,36.2,36.0,36.9,36.6,36.0,36.0,36.8,36.8,36.7,36.7,36.0,36.0,36.3,36.9,36.3,36.1,36.1,36.1,36.5,36.3,36.4,36.6,36.5,36.4,36.4,36.3,36.6,36.8,36.4,36.3,36.9,36.0,36.4,36.5,36.0,36.1,36.9,36.1,36.7,36.6,36.9,36.5,36.5,36.0,36.4,36.9,36.8,36.3,36.9,36.1,36.7,36.9,36.2,36.6,36.0,36.2,36.5,36.5,36.3,36.6,36.9,36.3,36.1,36.3,36.0,36.6,36.2,36.2,36.1,36.5,36.9,36.2,36.2,36.4,36.6,36.9,36.3,36.4,36.3,36.8,36.7,36.6,36.8,36.0,36.8,36.7,36.8,36.4,36.8,36.4,36.4,36.2,36.0,36.5,36.2,36.2,36.6,36.6,36.7,36.4,36.0,36.0,36.2,36.8,36.8,36.6,36.8,36.2,36.0,36.3,36.1,36.9,36.2,36.5,36.8,36.1,36.7,36.4,36.9,36.0,36.7,36.7,36.4,36.7,36.2,36.8,36.2,36.7,36.4,36.4,36.6,36.6,36.9,36.4,36.6,36.1,36.8,36.9,36.7,36.8,36.8,36.0,36.7,36.2,36.3,36.4,36.4,36.0,36.4,36.6,36.6,36.7,36.3,36.4,36.5,36.6,36.6,36.6,36.3,36.4,36.8,36.2,36.9,36.3,36.4,36.8,36.9,36.2,36.6,36.2,36.9,36.8,36.0,36.9,36.7,36.9,36.1,36.0,36.7,36.1,36.7,36.7,36.4,36.3,36.0,36.2,36.1,36.0,36.0,36.8,36.6,36.6,36.8,36.7,36.0,36.1,36.0,36.7,36.9,36.4,36.9,36.3,36.7,36.0,36.1,36.6,36.6,36.8,36.9,36.1,36.7,36.7,36.5,36.1,36.5,36.7]
            },
            {
                name: '累计通行人数',
                type: 'line',
                itemStyle : {
                    normal : {
                        color:'#82b6e9',   // 设置最高气温线的颜色
                    }
                },
                xAxisIndex: 1,
                yAxisIndex: 1,
                symbolSize: 8,
                hoverAnimation: false,
                data: [
                   39,52,50,15,17,11,27,5,9,43,59,19,61,27,12,27,43,43,19,56,51,20,33,22,23,9,14,60,29,55,30,10,33,9,45,37,27,17,44,4,15,10,50,56,30,6,52,55,25,11,19,25,40,48,7,61,23,54,41,6,56,5,32,36,8,54,24,35,26,52,4,6,33,10,44,26,7,6,45,53,6,12,32,51,8,29,29,6,22,34,7,20,3,30,39,15,60,52,13,59,32,35,46,34,30,25,50,26,20,56,12,22,14,3,61,38,60,11,54,28,13,13,1,37,5,17,36,42,59,30,24,38,31,41,38,15,12,38,59,44,53,14,22,27,2,4,19,15,61,30,18,27,7,30,23,9,48,36,47,56,45,54,20,50,3,0,54,60,54,59,12,8,49,9,18,35,56,14,1,21,56,38,50,58,20,51,20,23,25,9,46,54,42,40,17,48,3,12,20,1,17,7,10,36,33,60,27,8,49,59,3,25,2,6,47,51,27,32,45,52,15,5,9,52,13,27,0,53,51,53,57,56,11,27,51,25,1,37,7,20,26,8,42,18,1,59,8,44,16,24,51,43,37,18,24,32,34,31,56,30,32,46,13,49,28,43,43,37,44,52,6,33,57,19,49,6,37,48,40,4,31,2,37,31,53,16,18,57,2,37,2,8,59,44,1,47,55,48,21,48,11,13,15,36,1,26,50,51,38,8,43,58,8,34,43,39,36,40,32,19,41,12,55,28,48,0,49,16,50,9,18,49,42,5,13,56,17,49,59,41,20,3,13,39,9,45,57,14,24,0,7,36,53,54,26,52,51,45,11,13,51,20,56,7,33,25,2,32,58,3,49,46,28,26,43,28,41,8,42,25,57,24,11,48,54,43,1,11,23,44,28,5,19,8,36,24,9,31,21,9,11,34,14,35,4,56,22,23,49,48,15,30,15,47,46,21,45,6,7,5,22,1,57,32,44,23,41,54,1,9,38,34,32,0,61,28,54,21,10,33,33,43,5,46,57,3,5,3,17,11,61,31,2,14,8,57,37,18,19,44,53,59,20,5,58,47,29,59,29,39,42,47,35,53,11,44,52,40,41,36,1,11,61,61,40,13,22,10,22,18,1,22,45,43,44,46,57,10,11,35,61,21,17,19,28,57
                ]
            }
        ]

        };

              myChart_person.setOption(option);
            };

            edpic_person_chart();

            // 百度地图API功能
        });
	</script>

    <script>
        (function($) {
            $.fn.extend({
                RollTitle: function(opt, callback) {
                    if (!opt) var opt = {};
                    var _this = this;
                    _this.timer = null;
                    _this.lineH = _this.find("li:first").height();
                    _this.line = opt.line ? parseInt(opt.line, 15) : parseInt(_this.height() / _this.lineH, 10);
                    _this.speed = opt.speed ? parseInt(opt.speed, 10) : 3000, //卷动速度，数值越大，速度越慢（毫秒
                        _this.timespan = opt.timespan ? parseInt(opt.timespan, 13) : 1000; //滚动的时间间隔（毫秒
                    if (_this.line == 0) this.line = 1;
                    _this.upHeight = 0 - _this.line * _this.lineH;
                    _this.scrollUp = function() {
                        _this.animate({
                            marginTop: _this.upHeight
                        }, _this.speed, function() {
                            for (i = 1; i <= _this.line; i++) {
                                _this.find("li:first").appendTo(_this);
                            }
                            _this.css({
                                marginTop: 0
                            });
                        });
                    };

                    _this.hover(function() {
                        clearInterval(_this.timer);
                    }, function() {
                        _this.timer = setInterval(function() {
                            _this.scrollUp();
                        }, _this.timespan);
                    }).mouseout();
                }
            })
        })(jQuery);

        $(document.body).ready(function() {
            $("#RunTopic").RollTitle({
                line: 1,
                speed: 200,
                timespan: 1500
            });
        });
    </script>

    <script>
       /* global BMapGL */

    /* global mapv */

    /* global mapvgl */

    /* global initMap */

    /* global snowStyle */

    //var bmapgl = new BMapGL.Map('allmap');
    //bmapgl.setHeading(-45.3);
    //bmapgl.setTilt(80);
    //var point = new BMapGL.Point(106.542353,29.565448);
    //bmapgl.centerAndZoom(point, 17);

    var map = initMap({
        tilt: 60,
        heading: 0,
        center: [106.541075,29.564519],
        //center: [115.854435, 28.681179],
        zoom: 17,
    });

    map.setDisplayOptions({
        building: true
    });

    var view = new mapvgl.View({
        map: map
    });

    //map.setTrafficOn();

    //view.startAnimation();

    fetch('/static/js/map/chongqing.json').then(function (rs) {
        return rs.json();
    }).then(function (rs) {
        var data = rs;
        var polygons = [];

        //alert(data.features[0].geometry.coordinates[0][0].length);
        //alert(data.features.length);

        /*
        var len = data.features.length;

        for (var i=0; i<len; i++){
            obj = data.features[i].geometry.coordinates;
            //alert(obj.length)

            var polygon = []
            for (var j=0; j<obj.length; j++) {
                objx = obj[j];
                //alert(objx);

                for(var k=0; k<objx.length; k++ ){
                    objk = objx[k];
                    //polygon.push(objk)
                    //alert("start array");
                    var arr_z = []

                    for (var z=0; z<objk.length; z++) {
                        objz = objk[z];
                        arr_z.push([objz[0], objz[1]]);
                        //alert(objz[0]);
                    }
                    polygon.push(arr_z);
                }
            }

            polygons.push({
                geometry: {
                    type: 'Point',
                    coordinates: [polygon]
                },
                properties: {
                    count: 30 * Math.random(),
                    height: 4
                }
            });

        }

        //alert(polygon);


        var shaperLayer = new mapvgl.ShapeLayer({
            color: 'wheat', // 面颜色
            style: 'gradual',
            opacity: 1.0 // 透明度
        });

        view.addLayer(shaperLayer);
        shaperLayer.setData(polygons);

        var point = new BMapGL.Point(115.885908410541, 28.6515908488312);
        map.panTo(point);
        */

        /*
        var len = data.length;
        for (var i = 0; i < len; i++) {
            var line = data[i];
            var polygon = [];
            var pt = [line[1] * 512, line[2] * 512];
            for (var j = 3; j < line.length; j += 2) {
                pt[0] += line[j] / 100 / 2;
                pt[1] += line[j + 1] / 100 / 2;
                polygon.push([pt[0], pt[1]]);
            }

            polygons.push({
                geometry: {
                    type: 'Polygon',
                    coordinates: [polygon]
                },
                properties: {
                    height: line[0] / 2
                }
            });
        }

        var shaperLayer = new mapvgl.ShapeLayer({
            color: '#75cce8', // 面颜色
            style: 'gradual',
            opacity: 0.1 // 透明度
        });

        view.addLayer(shaperLayer);
        shaperLayer.setData(polygons);
        */

        var len = data.length;
        for (var i = 0; i < len; i++) {
            var line = data[i];
            var polygon = [];
            var pt = [line[1] * 512, line[2] * 512];
            for (var j = 3; j < line.length; j += 2) {
                pt[0] += line[j] / 100 / 2;
                pt[1] += line[j + 1] / 100 / 2;
                polygon.push([pt[0], pt[1]]);
            }

            polygons.push({
                geometry: {
                    type: 'Polygon',
                    coordinates: [polygon]
                },
                properties: {
                    height: line[0] / 2
                }
            });
        }

        var shaperLayer = new mapvgl.ShapeLayer({
            color: '#3399cc',
            style: 'window',
            opacity: 1.0
        });
        view.addLayer(shaperLayer);
        shaperLayer.setData(polygons);

    });



    </script>

</html>