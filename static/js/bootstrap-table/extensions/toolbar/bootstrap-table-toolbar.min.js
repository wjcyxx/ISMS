/*
* bootstrap-table - v1.7.0 - 2015-04-01
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2015 zhixin wen
* Licensed MIT License
*/
!function(a){"use strict";var b=!1,c=function(a){var b=arguments,c=!0,d=1;return a=a.replace(/%s/g,function(){var a=b[d++];return"undefined"==typeof a?(c=!1,""):a}),c?a:""},d=function(b,c){if(a("#avdSearchModal").hasClass("modal"))a("#avdSearchModal").modal();else{var d='<div id="avdSearchModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">';d+='<div class="modal-dialog modal-xs">',d+=' <div class="modal-content">',d+='  <div class="modal-header">',d+='   <button type="button" class="close" data-dismiss="modal" aria-hidden="true" >&times;</button>',d+='   <h4 class="modal-title">Buscador Avanzado</h4>',d+="  </div>",d+='  <div class="modal-body modal-body-custom">',d+='   <div class="container-fluid" id="avdSearchModalContent" style="padding-right: 0px;padding-left: 0px;" >',d+="   </div>",d+="  </div>",d+="  </div>",d+=" </div>",d+="</div>",a("body").append(a(d));var g=e(b,c);a("#avdSearchModalContent").append(g.join("")),a("#btnSearchAvd").click(function(){var b=a("#"+c.idForm).serializeJSON(),d=a("#"+c.idTable).parents(".bootstrap-table").find(".search input").val();a.extend(b,{searchText:d});var e=JSON.stringify(b);f.DEFAULTS.searchText=e}),a("#avdSearchModal").modal()}},e=function(a,b){var c=[];c.push('<form class="form-horizontal" id="'+b.idForm+'" action="'+b.actionForm+'" >');for(var d in a){var e=a[d];!e.checkbox&&e.visible&&e.searchable&&c.push('<div class="form-group">','<label class="col-sm-4 control-label">'+e.title+"</label>",'<div class="col-sm-6">','<input type = "text" class="form-control input-md" name="'+e.field+'" placeholder="Email">',"</div>","</div>")}return c.push('<div class="form-group">','<div class="col-sm-offset-9 col-sm-3">','<button type="button" id="btnSearchAvd" class="btn btn-default" >Buscar</button>',"</div>","</div>","</form>"),c};a.extend(a.fn.bootstrapTable.defaults,{advancedSearch:void 0,idTable:void 0}),a.extend(a.fn.bootstrapTable.defaults.icons,{avdSearch:"glyphicon-chevron-down"}),a.extend(a.fn.bootstrapTable.locales,{formatAvancedSearch:function(){return"Buscador Avanzado"}}),a.extend(a.fn.bootstrapTable.defaults,a.fn.bootstrapTable.locales);var f=a.fn.bootstrapTable.Constructor,g=f.prototype.initToolbar,h=f.prototype.load;f.prototype.initToolbar=function(){var b,e=this,f=[],h={active:!1,idTable:"",idForm:"",actionForm:""};g.apply(this,Array.prototype.slice.apply(arguments)),"undefined"!=typeof this.options.advancedSearch&&(h=this.options.advancedSearch),h.active&&(f.push(c('<div class="btn-group" role="group"><button class="btn btn-default'+(void 0===e.options.iconSize?"":" btn-"+e.options.iconSize)+'" type="button" name="avdSearch" title="%s">',e.options.formatAvancedSearch()),c('<i class="%s %s"></i>',e.options.iconsPrefix,e.options.icons.avdSearch),"</button></div>"),e.$toolbar.find(".columns").prepend(f.join("")),e.$toolbar.find('button[name="avdSearch"]').off("click").on("click",function(){d(e.options.columns,h)})),-1===e.options.searchTimeOut&&(b=e.$toolbar.find(".search input"),b.off("keyup").on("keyup",function(b){a.trim(a(b.currentTarget).val());13===b.which&&e.onSearch(b)}))},f.prototype.load=function(){if(h.apply(this,Array.prototype.slice.apply(arguments)),"undefined"==typeof this.options.idTable)alert('Error: La propiedad "idTable" de bootstrapTable debe tener el id definido en la tabla.');else if(!b){var c=parseInt(a(".bootstrap-table").height());c+=10,a("#"+this.options.idTable).bootstrapTable("resetView",{height:c}),b=!0}}}(jQuery);